[
  {
    "essential": true,
    "image": "433610389961.dkr.ecr.us-west-2.amazonaws.com/logstash:latest",
    "memoryReservation": 1024,
    "name": "logstash",
    "portMappings": [
      {
        "containerPort": 5044,
        "hostPort": 5044
      },
      {
        "containerPort": 12201,
        "hostPort": 12201
      },
      {
        "containerPort": 9600,
        "hostPort": 9600
      }
    ],
    "dnsServers": [
      "dns.prod.engineering.internal",
      "8.8.8.8"
    ],
    "environment": [
      {
        "name": "PIPELINE_NAME",
        "value": "${PIPELINE_NAME}"
      },
      {
        "name": "AWS_ACCESS_KEY_ID",
        "value": "${AWS_ACCESS_KEY_ID}"
      },
      {
        "name": "AWS_SECRET_ACCESS_KEY",
        "value": "${AWS_SECRET_ACCESS_KEY}"
      },
      {
        "name": "S3_LOG_BUCKET",
        "value": "${S3_LOG_BUCKET}"
      },
      {
        "name": "ES_USERNAME",
        "value": "${ES_USERNAME}"
      },
      {
        "name": "ES_PASSWORD",
        "value": "${ES_PASSWORD}"
      },
      {
        "name": "ES_HOST_URL",
        "value": "${ES_HOST_URL}"
      },
      {
        "name": "SERVICE_NAME",
        "value": "logstash"
      },
      {
        "name": "SERVICE_TAGS",
        "value": "${TAG_REGION},${TAG_VPC_ID}"
      },
      {
        "name": "SERVICE_5044_CHECK_TCP",
        "value": "true"
      },
      {
        "name": "SERVICE_5044_CHECK_INTERVAL",
        "value": "1s"
      }
    ],
    "logConfiguration": {
      "logDriver": "awslogs",
      "options": {
        "awslogs-group": "shared-production-infra",
        "awslogs-region": "us-west-2",
        "awslogs-stream-prefix": "logstash"
      }
    }
  }
]