<cla-header title="CLA - Corporate" (onToggle)="onClickToggle($event)"></cla-header>

<ion-content>
  <div class="page-content" [ngClass]="{'without-lfx-header':!hasEnabledLFXHeader,'expanded':expanded}">
    <header>
      <ion-grid>
        <ion-row>
          <ion-col col-12>
            <h1 class="pl-45">{{ project.project_name }}</h1>
          </ion-col>
        </ion-row>
      </ion-grid>
    </header>

    <ion-grid>
      <ion-row>
        <ion-col col-12 col-md-6>
          <ion-card>
            <ion-card-content>
              <ion-card-title>
                <span>Corporate CLA</span>
              </ion-card-title>
              <div>
                <p>
                  We are generating a document to sign for the purposes of your CLA. Please fill out accurately and
                  complete the signing process.
                </p>
                <ion-row>
                  <ion-col col-auto>
                    <button [disabled]="!signature.sign_url || error" ion-button (click)="openClaAgreement()">
                      Open CLA
                    </button>
                  </ion-col>
                  <ion-col col-1>
                    <loading-spinner [loading]="loading"></loading-spinner>
                  </ion-col>
                </ion-row>
              </div>
              <div *ngIf="error">
                <p *ngIf="error.errors.signature_id" class="error-message">
                  Your company has already signed a CLA with this project.
                </p>
                <p *ngIf="error.errors.project_id" class="error-message">
                  The Corporate CLA template has not been selected by the Project Manager. Please <a
                    (click)="createTicket()">create a ticket</a> to help us resolve this issue.
                </p>
                <p *ngIf="!error.errors.project_id && !error.errors.signature_id" class="error-message">
                  It looks like something has gone wrong. Please <a (click)="createTicket()">create a ticket</a> to help
                  us resolve this issue.
                </p>
              </div>
            </ion-card-content>
          </ion-card>
        </ion-col>
      </ion-row>
    </ion-grid>
  </div>
  <cla-footer></cla-footer>
</ion-content>
